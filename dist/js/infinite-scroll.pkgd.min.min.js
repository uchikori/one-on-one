"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,e=function(){};return{s:e,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,i=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){var n=t.console,f=void 0===n?function(){}:function(t){n.error(t)};return function(u,h,d){(d=d||e||t.jQuery)&&(h.prototype.option||(h.prototype.option=function(t){t&&(this.options=Object.assign(this.options||{},t))}),d.fn[u]=function(t){for(var e,o,i,r,s,a,n=arguments.length,l=new Array(1<n?n-1:0),c=1;c<n;c++)l[c-1]=arguments[c];return"string"==typeof t?(e=this,o=t,i=l,s="$().".concat(u,'("').concat(o,'")'),e.each(function(t,e){var n=d.data(e,u);n?(e=n[o])&&"_"!=o.charAt(0)?(n=e.apply(n,i),r=void 0===r?n:r):f("".concat(s," is not a valid method")):f("".concat(u," not initialized. Cannot call method ").concat(s))}),void 0!==r?r:e):(a=t,this.each(function(t,e){var n=d.data(e,u);n?(n.option(a),n._init()):(n=new h(e,a),d.data(e,u,n))}),this)})}}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:void 0,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;var n=this._events=this._events||{},t=n[t]=n[t]||[];return t.includes(e)||t.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(!t||!t.length)return this;e=t.indexOf(e);return-1!=e&&t.splice(e,1),this},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(!n||!n.length)return this;n=n.slice(0),e=e||[];var o=this._onceEvents&&this._onceEvents[t],i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var r=r.value;o&&o[r]&&(this.off(t,r),delete o[r]),r.apply(this,e)}}catch(t){i.e(t)}finally{i.f()}return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t):t.fizzyUIUtils=e(t)}(void 0,function(e){var o={extend:function(t,e){return Object.assign(t,e)},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){return Array.isArray(t)?t:null==t?[]:"object"==_typeof(t)&&"number"==typeof t.length?_toConsumableArray(t):[t]},removeFrom:function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},getParent:function(t,e){for(;t.parentNode&&t!=document.body;)if((t=t.parentNode).matches(e))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,n){return(t=o.makeArray(t)).filter(function(t){return t instanceof HTMLElement}).reduce(function(t,e){if(!n)return t.push(e),t;e.matches(n)&&t.push(e);e=e.querySelectorAll(n);return t.concat.apply(t,_toConsumableArray(e))},[])},debounceMethod:function(t,e,n){n=n||100;var o=t.prototype[e],i=e+"Timeout";t.prototype[e]=function(){var t=this;clearTimeout(this[i]);var e=arguments;this[i]=setTimeout(function(){o.apply(t,e),delete t[i]},n)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}},l=e.console;return o.htmlInit=function(s,a){o.docReady(function(){var i="data-"+o.toDashed(a),t=document.querySelectorAll("[".concat(i,"]")),r=e.jQuery;_toConsumableArray(t).forEach(function(t){var e,n=t.getAttribute(i);try{e=n&&JSON.parse(n)}catch(e){return void(l&&l.error("Error parsing ".concat(i," on ").concat(t.className,": ").concat(e)))}var o=new s(t,e);r&&r.data(t,a,o)})})},o}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("ev-emitter"),require("fizzy-ui-utils")):t.InfiniteScroll=e(t,t.EvEmitter,t.fizzyUIUtils)}(window,function(e,t,i){var r=e.jQuery,s={};function a(t,e){var n=i.getQueryElement(t);if(n){if((t=n).infiniteScrollGUID){var o=s[t.infiniteScrollGUID];return o.option(e),o}this.element=t,this.options=_objectSpread({},a.defaults),this.option(e),r&&(this.$element=r(this.element)),this.create()}else console.error("Bad element for InfiniteScroll: "+(n||t))}a.defaults={},a.create={},a.destroy={};var n=a.prototype;Object.assign(n,t.prototype);var o=0;n.create=function(){var t=this.guid=++o;if(this.element.infiniteScrollGUID=t,(s[t]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var e in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),a.create)a.create[e].call(this);else console.error("Disabling InfiniteScroll")},n.option=function(t){Object.assign(this.options,t)},n.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},n.dispatchEvent=function(t,e,n){this.log(t,n);var o=e?[e].concat(n):n;this.emitEvent(t,o),r&&this.$element&&(o=t+=".infiniteScroll",e&&((e=r.Event(e)).type=t,o=e),this.$element.trigger(o,n))};var l={initialized:function(t){return"on ".concat(t)},request:function(t){return"URL: ".concat(t)},load:function(t,e){return"".concat(t.title||"",". URL: ").concat(e)},error:function(t,e){return"".concat(t,". URL: ").concat(e)},append:function(t,e,n){return"".concat(n.length," items. URL: ").concat(e)},last:function(t,e){return"URL: ".concat(e)},history:function(t,e){return"URL: ".concat(e)},pageIndex:function(t,e){return"current page determined to be: ".concat(t," from ").concat(e)}};n.log=function(t,e){var n;this.options.debug&&(n="[InfiniteScroll] ".concat(t),(t=l[t])&&(n+=". "+t.apply(this,e)),console.log(n))},n.updateMeasurements=function(){this.windowHeight=e.innerHeight;var t=this.element.getBoundingClientRect();this.top=t.top+e.scrollY},n.updateScroller=function(){var t=this.options.elementScroll;if(t){if(this.scroller=!0===t?this.element:i.getQueryElement(t),!this.scroller)throw new Error("Unable to find elementScroll: ".concat(t))}else this.scroller=e},n.updateGetPath=function(){var t,e=this.options.path;e?"function"!=(t=_typeof(e))?"string"==t&&e.match("{{#}}")?this.updateGetPathTemplate(e):this.updateGetPathSelector(e):this.getPath=e:console.error("InfiniteScroll path option required. Set as: ".concat(e))},n.updateGetPathTemplate=function(e){var n=this;this.getPath=function(){var t=n.pageIndex+1;return e.replace("{{#}}",t)};var t=e.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),t=new RegExp(t),t=location.href.match(t);t&&(this.pageIndex=parseInt(t[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var c=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/],u=a.getPathParts=function(t){if(t){var e=_createForOfIteratorHelper(c);try{for(e.s();!(n=e.n()).done;){var n=n.value,n=t.match(n);if(n){n=_slicedToArray(n,4);return{begin:n[1],index:n[2],end:n[3]}}}}catch(t){e.e(t)}finally{e.f()}}};n.updateGetPathSelector=function(t){var e,n,o,i,r=this,s=document.querySelector(t);s?(e=s.getAttribute("href"),(n=u(e))?(o=n.begin,s=n.index,i=n.end,this.isPathSelector=!0,this.getPath=function(){return o+(r.pageIndex+1)+i},this.pageIndex=parseInt(s,10)-1,this.log("pageIndex",[this.pageIndex,"next link"])):console.error("InfiniteScroll unable to parse next link href: ".concat(e))):console.error("Bad InfiniteScroll path option. Next link not found: ".concat(t))},n.updateGetAbsolutePath=function(){var t,e,n,o=this,i=this.getPath();i.match(/^http/)||i.match(/^\//)?this.getAbsolutePath=this.getPath:(t=location.pathname,e=i.match(/^\?/),i=t.substring(0,t.lastIndexOf("/")),n=e?t:i+"/",this.getAbsolutePath=function(){return n+o.getPath()})},a.create.hideNav=function(){var t=i.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},a.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},n.destroy=function(){for(var t in this.allOff(),a.destroy)a.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete s[this.guid],r&&this.$element&&r.removeData(this.element,"infiniteScroll")},a.throttle=function(i,r){var s,a;return r=r||200,function(){function t(){s=n,i.apply(e,o)}var e=this,n=+new Date,o=arguments;s&&n<s+r?(clearTimeout(a),a=setTimeout(t,r)):t()}},a.data=function(t){t=(t=i.getQueryElement(t))&&t.infiniteScrollGUID;return t&&s[t]},a.setJQuery=function(t){r=t},i.htmlInit(a,"infinite-scroll"),n._init=function(){};n=e.jQueryBridget;return r&&n&&n("infiniteScroll",a,r),a}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("./core")):e(t,t.InfiniteScroll)}(window,function(e,i){var t=i.prototype;Object.assign(i.defaults,{loadOnScroll:!0,checkLastPage:!0,responseBody:"text",domParseResponse:!0}),i.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},t.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()};var s=new DOMParser;function u(t){var e=document.createDocumentFragment();return t&&e.append.apply(e,_toConsumableArray(t)),e}return t.loadNextPage=function(){var n=this;if(!this.isLoading&&this.canLoad){var t=this.options,o=t.responseBody,i=t.domParseResponse,t=t.fetchOptions,r=this.getAbsolutePath();this.isLoading=!0,"function"==typeof t&&(t=t());t=fetch(r,t).then(function(e){if(e.ok)return e[o]().then(function(t){return"text"==o&&i&&(t=s.parseFromString(t,"text/html")),204==e.status?(n.lastPageReached(t,r),{body:t,response:e}):n.onPageLoad(t,r,e)});var t=new Error(e.statusText);return n.onPageError(t,r,e),{response:e}}).catch(function(t){n.onPageError(t,r)});return this.dispatchEvent("request",null,[r,t]),t}},t.onPageLoad=function(t,e,n){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e,n]),this.appendNextPage(t,e,n)},t.appendNextPage=function(t,e,n){var o=this,i=this.options,r=i.append,s=i.responseBody,i=i.domParseResponse;if("text"!=s||!i||!r)return{body:t,response:n};var a=t.querySelectorAll(r),l={body:t,response:n,items:a};if(!a||!a.length)return this.lastPageReached(t,e),l;var c=u(a),r=function(){return o.appendItems(a,c),o.isLoading=!1,o.dispatchEvent("append",null,[t,e,a,n]),l};return this.options.outlayer?this.appendOutlayerItems(c,r):r()},t.appendItems=function(r,s){r&&r.length&&(function(){var e=_createForOfIteratorHelper((s=s||u(r)).querySelectorAll("script"));try{for(e.s();!(t=e.n()).done;){var t=t.value,n=document.createElement("script"),o=_createForOfIteratorHelper(t.attributes);try{for(o.s();!(i=o.n()).done;){var i=i.value;n.setAttribute(i.name,i.value)}}catch(t){o.e(t)}finally{o.f()}n.innerHTML=t.innerHTML,t.parentNode.replaceChild(n,t)}}catch(t){e.e(t)}finally{e.f()}}(),this.element.appendChild(s))},t.appendOutlayerItems=function(t,n){var o=i.imagesLoaded||e.imagesLoaded;return o?new Promise(function(e){o(t,function(){var t=n();e(t)})}):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},t.onAppendOutlayer=function(t,e,n){this.options.outlayer.appended(n)},t.checkLastPage=function(t,e){var n,o=this.options,i=o.checkLastPage,o=o.path;i&&("function"!=typeof o||this.getPath()?("string"==typeof i?n=i:this.isPathSelector&&(n=o),n&&t.querySelector&&(t.querySelector(n)||this.lastPageReached(t,e))):this.lastPageReached(t,e))},t.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},t.onPageError=function(t,e,n){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e,n]),t},i.create.prefill=function(){var t;this.options.prefill&&((t=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :".concat(t)))},t.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=0<=t,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},t.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},t.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},i}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(n,t,e){var o=t.prototype;return Object.assign(t.defaults,{scrollThreshold:400}),t.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold;!t&&0!==t||this.enableScrollWatch()},t.destroy.scrollWatch=function(){this.disableScrollWatch()},o.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},o.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},o.bindScrollWatchEvents=function(t){t=t?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.pageScrollHandler),n[t]("resize",this.resizeHandler)},o.onPageScroll=t.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),o.getBottomDistance=function(){var t,e=this.options.elementScroll?(t=this.scroller.scrollHeight,this.scroller.scrollTop+this.scroller.clientHeight):(t=this.top+this.element.clientHeight,n.scrollY+this.windowHeight);return t-e},o.onResize=function(){this.updateMeasurements()},e.debounceMethod(t,"onResize",150),t}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(i,t,e){var n=t.prototype;Object.assign(t.defaults,{history:"replace"});var o=document.createElement("a");return t.create.history=function(){this.options.history&&(o.href=this.getAbsolutePath(),(o.origin||o.protocol+"//"+o.host)==location.origin?this.options.append?this.createHistoryAppend():this.createHistoryPageLoad():console.error("[InfiniteScroll] cannot set history with different origin: ".concat(o.origin," on ").concat(location.origin," . History behavior disabled.")))},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPage=this.scrollPages[0],this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(t){t=t?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.scrollHistoryHandler),i[t]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},t.destroy.history=n.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,n){n&&n.length&&(n=n[0],n=this.getElementScrollY(n),o.href=e,this.scrollPages.push({top:n,path:o.href,title:t.title}))},n.getElementScrollY=function(t){return this.options.elementScroll?t.offsetTop-this.top:t.getBoundingClientRect().top+i.scrollY},n.onScrollHistory=function(){var t=this.getClosestScrollPage();t!=this.scrollPage&&(this.scrollPage=t,this.setHistory(t.title,t.path))},e.debounceMethod(t,"onScrollHistory",150),n.getClosestScrollPage=function(){var t,e=this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:i.scrollY+this.windowHeight/2,n=_createForOfIteratorHelper(this.scrollPages);try{for(n.s();!(o=n.n()).done;){var o=o.value;if(o.top>=e)break;t=o}}catch(t){n.e(t)}finally{n.f()}return t},n.setHistory=function(t,e){var n=this.options.history;n&&history[n+"State"]&&(history[n+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var t;0!==this.scrollPage.top&&(t=i.scrollY-this.scrollPage.top+this.top,this.destroyHistory(),scrollTo(0,t))},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},t}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(0,require("./core"),require("fizzy-ui-utils")):e(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){var o=function(){function n(t,e){_classCallCheck(this,n),this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return _createClass(n,[{key:"onClick",value:function(t){t.preventDefault(),this.infScroll.loadNextPage()}},{key:"enable",value:function(){this.element.removeAttribute("disabled")}},{key:"disable",value:function(){this.element.disabled="disabled"}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"destroy",value:function(){this.element.removeEventListener("click",this.clickHandler)}}]),n}();return e.create.button=function(){var t=n.getQueryElement(this.options.button);t&&(this.button=new o(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},e.Button=o,e}),function(t,e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(0,require("./core"),require("fizzy-ui-utils")):e(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){var o=e.prototype;function i(t){s(t,"none")}function r(t){s(t,"block")}function s(t,e){t&&(t.style.display=e)}return e.create.status=function(){var t=n.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},o.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},o.showRequestStatus=function(){this.showStatus("request")},o.showErrorStatus=function(){this.showStatus("error")},o.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},o.showStatus=function(t){r(this.statusElement),this.hideStatusEventElements(),r(this.statusEventElements[t])},o.hideAllStatus=function(){i(this.statusElement),this.hideStatusEventElements()},o.hideStatusEventElements=function(){for(var t in this.statusEventElements)i(this.statusEventElements[t])},e}),function(e,n){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return n(e,t)}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=n(e,require("ev-emitter")):e.imagesLoaded=n(e,e.EvEmitter)}("undefined"!=typeof window?window:void 0,function(e,t){var r=e.jQuery,s=e.console;function a(t,e){for(var n in e)t[n]=e[n];return t}var l=Array.prototype.slice;function c(t,e,n){if(!(this instanceof c))return new c(t,e,n);var o,i=t;"string"==typeof t&&(i=document.querySelectorAll(t)),i?(this.elements=(o=i,Array.isArray(o)?o:"object"==_typeof(o)&&"number"==typeof o.length?l.call(o):[o]),this.options=a({},this.options),"function"==typeof e?n=e:a(this.options,e),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(i||t))}(c.prototype=Object.create(t.prototype)).options={},c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},c.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var n=t.querySelectorAll("img"),o=0;o<n.length;o++){var i=n[o];this.addImage(i)}if("string"==typeof this.options.background)for(var r=t.querySelectorAll(this.options.background),o=0;o<r.length;o++){var s=r[o];this.addElementBackgroundImages(s)}}};var u={1:!0,9:!0,11:!0};function n(t){this.img=t}function o(t,e){this.url=t,this.element=e,this.img=new Image}return c.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,o=n.exec(e.backgroundImage);null!==o;){var i=o&&o[2];i&&this.addBackground(i,t),o=n.exec(e.backgroundImage)}},c.prototype.addImage=function(t){t=new n(t);this.images.push(t)},c.prototype.addBackground=function(t,e){e=new o(t,e);this.images.push(e)},c.prototype.check=function(){var o=this;function e(t,e,n){setTimeout(function(){o.progress(t,e,n)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},c.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,t,e)},c.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(n.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},n.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(o.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},o.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(c.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((r=t).fn.imagesLoaded=function(t,e){return new c(this,t,e).jqDeferred.promise(r(this))})})(),c});